# RP2040-based Watara Supervision Flash Cartridge

## Overview

This project implements a flash cartridge for the Watara Supervision handheld game console using a Raspberry Pi Pico (RP2040 microcontroller). It allows you to load and play Watara Supervision ROM files (`.sv` format) on the original hardware by emulating the original game cartridges.

## Hardware

*   **Main Component:** Strictly **PURPLE** Raspberry Pi Pico with all GPIO's exposed



## Software/Firmware

The project consists of two main software components:

*   **Firmware (`watapico.c`):** This is the C code that runs on the RP2040. It initializes the system, configures GPIO pins to interface with the Watara Supervision's cartridge slot, and handles read requests from the console to serve game data from the selected ROM.
*   **ROM Conversion Script (`roms/makeroms.py`):** This Python script is used to convert Watara Supervision ROM files (in `.sv` format) into a C header file (`roms.h`). This header file embeds the ROM data as byte arrays, along with metadata, which is then compiled into the firmware.

## Directory Structure

*   `watapico.c`: The main C firmware for the RP2040.
*   `CMakeLists.txt`: CMake build configuration file for the firmware.
*   `purple.h`: A header file used by the firmware (its specific purpose might need further exploration by the user, e.g., custom definitions or utilities).
*   `roms/`: This directory is intended to store your Watara Supervision `.sv` ROM files.
*   `roms/makeroms.py`: Python script to process the `.sv` files in the `roms/` directory and generate `roms.h`.
*   `roms/roms.h`: The C header file automatically generated by `makeroms.py`. It contains the ROM data and structures to access them in the firmware. **Do not edit this file manually.**
*   `.gitignore`: Specifies intentionally untracked files that Git should ignore.

## How to Use/Build

### 1. Adding ROMs

1.  **Place ROM Files:** Copy your Watara Supervision ROM files (e.g., `game.sv`) into the `roms/` directory.
2.  **Generate `roms.h`:** Run the `makeroms.py` script. The script expects the directory containing the `.sv` files as an argument and typically outputs `roms.h` in the same directory (or as specified by its arguments). From the root of the repository, you would typically run:
    ```bash
    python roms/makeroms.py roms/
    ```
    This will create/update the `roms/roms.h` file.

### 2. Building the Firmware

The firmware (`watapico.c`) is built using CMake.

1.  **Prerequisites:** Ensure you have the Raspberry Pi Pico SDK and CMake installed and configured.
2.  **Build Steps:**
    *   Create a `build` directory (e.g., `mkdir build && cd build`).
    *   Run CMake to configure the project (e.g., `cmake ..`).
    *   Run Make to compile the project (e.g., `make`).
3.  This will produce a `.uf2` file (e.g., `watapico.uf2`) in the `build` directory, which can then be flashed to your Raspberry Pi Pico.

## Contributing

Contributions are welcome! If you have improvements or bug fixes, please feel free to fork the repository and submit a pull request.

## License

(Please add a license file if you wish to specify one, e.g., MIT, GPL, etc.)
